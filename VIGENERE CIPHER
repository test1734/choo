import java.util.Scanner;

public class vigenere {

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        int choice = sc.nextInt();
        sc.nextLine();

        String text = sc.nextLine();

        String key = sc.nextLine();

        System.out.println(choice == 1 
            ? "Encrypted text: " + processText(text, key, true) 
            : "Decrypted text: " + processText(text, key, false));

        sc.close();
    }

    private static String processText(String text, String key, boolean encrypt) {
        StringBuilder result = new StringBuilder();
        text = text.toUpperCase();
        key = key.toUpperCase();

        for (int i = 0; i < text.length(); i++) {
            int shift = key.charAt(i % key.length()) - 'A';
            char processedChar = encrypt
                ? (char) (((text.charAt(i) - 'A' + shift) % 26) + 'A')
                : (char) (((text.charAt(i) - 'A' - shift + 26) % 26) + 'A');
            result.append(processedChar);
        }

        return encrypt ? result.toString() : result.toString().toLowerCase();
    }
}

